package com.amadeus.android.domain.trip.apis

import com.amadeus.android.ApiResponse
import com.amadeus.android.domain.resources.TripParser
import retrofit2.http.POST

@JvmSuppressWildcards
interface TripParserJobsApi {
    /**
     * Creates a new Trip Parser Job.
     * The operation use to send the request for the parsing with the booking details and input parameters.  The customer has to specify the following information when creating a POST request : * Customer need to encode the booking content by Base 64 encoding method to add it as a payload in the POST request  * Customer will send the Post request with the below mention details :      * API key - Header Parameter      * Encoded Booking confirmation in payload * Parser web service component will perform the initial validation (example: check the file format). * Parser web service will send the error message to customer in the case of validation failure or if there is any issue.  * Parser web service will send the unique id to the customer with the HTTP code (example: 202 -Accepted) and parsing status.   ## Request/Response Details  ### Request Example  ``` https POST https://test.api.amadeus.com/v2/travel/trip-parser-jobs ```  #### Query Example: Request for parsing with booking confirmation details.  Customer will convert the booking confirmation details (eml/PDF/HTML formats) into base64 string format and send in the POST request with the input parameters.   ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"content\": \"base64string\"     } } ``` ### Response details  When the query is correct and successfully received by parser and process started , system will send the status in the response or error message.  #### Successful Reply Example:   ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"id\": \"JKKSJNMSKHJ\",         \"status\": \"STARTED\",         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/JKKSJNMSKHJ\",             \"methods\": [ \"GET\" ]         }     } } ``` 
     * The endpoint is owned by defaultname service owner
     * @param body (required)
     */
    @POST("travel/trip-parser-jobs")
    suspend fun createTripParserJob(
        @retrofit2.http.Body body: String
    ): ApiResponse<TripParser>

    /*
    /**
     * Retrieves the result of the trip parser job.
     * - The operation is used to get the complete result of parsing as a aggregated view of Trip. - The customer has to provide the job id in the GET request. - System will verify the request and send the complete parsed trip with all the available segments information. - Parsing system will send the error message in the case of any issue or error.   ## Request/Response Details  ### Request Example         ``` http GET https://test.api.amadeus.com/v2/travel/trip-parser-jobs/Mk8RWGGCDagNHOdjP9EZrJ9l/result ```  ### Response Example  ``` json {     \"data\": {         \"type\": \"aggregated-trip\",         \"id\": \"Mk8RWGGCDagNHOdjP9EZrJ9l\",         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/Mk8RWGGCDagNHOdjP9EZrJ9l/result\"         },         \"reference\": \"2ZYVAL\",         \"creation\": {             \"dateTime\": \"2015-12-15\",             \"office\": {                 \"id\": \"NCE1A0950\"             }         },         \"start\": {             \"dateTime\": \"2016-01-01\",             \"locationName\": \"Paris\",             \"locationCode\": \"PAR\",             \"address\": {                 \"countryCode\": \"FR\",                 \"countryName\": \"France\"             }         },         \"end\": {             \"dateTime\": \"2016-01-01\",             \"locationName\": \"London\",             \"locationCode\": \"LHR\",             \"address\": {                 \"countryCode\": \"EN\",                 \"countryName\": \"England\"             }         },         \"stakeholders\": [             {                 \"PTC\": \"ADT\",                 \"dateOfBirth\": \"1968-10-24\",                 \"roles\": [                     \"TRAVELLER\"                 ],                 \"names\": [                     {                         \"lastName\": \"SMITH\",                         \"firstName\": \"JOHN\"                     }                 ]             }         ],         \"products\": [             {                 \"air\": {                     \"bkgClass\": \"B\",                     \"status\": \"HK\",                     \"NIP\": 1,                     \"serviceProvider\": {                         \"code\": \"AF\",                         \"name\": \"Air France\",                         \"baggagePolicyLink\": \"http://bags.amadeus.com/Display.aspx?a=AF\"                     },                     \"identifier\": \"AF1234\",                     \"start\": {                         \"dateTime\": \"2016-01-01T12:00\",                         \"terminal\": 2,                         \"cityCode\": \"PAR\",                         \"countryCode\": \"FR\",                         \"locationCode\": \"CDG\"                     },                     \"end\": {                         \"dateTime\": \"2016-01-01T14:00\",                         \"cityCode\": \"LON\",                         \"countryCode\": \"GB\",                         \"locationCode\": \"LHR\"                     },                     \"duration\": \"2.0\",                     \"baggages\": [                         {                         \"quantity\": 1,                         \"unit\": \"PIECES\"                         }                     ],                     \"cabin\": {                         \"bkgClass\": \"F\"                     }                 }             }         ]     } } ```
     * The endpoint is owned by defaultname service owner
     * @param jobId (required)
     */
    @GET("travel/trip-parser-jobs/{jobId}/result")
    suspend fun getResult(
        @retrofit2.http.Path("jobId") jobId: String
    ): ApiResponse<AggregatedTrip>
    /**
     * Retrieves a Parser Job by its Id.
     * The operation is used to get the parsing status and the link to the result in case of successful parsing.   The customer has to specify the following information when creating a GET request : - Customer will send the GET query with the unique Id, which is received by customer in the POST query .  - After unique Id validation, it will send the parsing status (In Progress/Failed) - Trip Parser will send the error message to API Customer in the case of unique  Id validation failure.  - In the case of Parsing success then it will send the  URI to get the complete trip details  - Trip Parser will send the error message to the customer in the case of trip creation failure or any other internal error .   #### Response when Parsing is In progress Example:  ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"id\": \"JKKSJNMSKHJ\",         \"status\": \"IN_PROGRESS\",         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/JKKSJNMSKHJ\",             \"methods\": [ \"GET\" ]         }     } } ```  #### Successful Reply Example:   ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"id\": \"JKKSJNMSKHJ\",         \"status\": \"COMPLETED\",         \"result\": {             \"href\": \"https://result-url\",             \"methods\": [ \"GET\" ]         },         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/JKKSJNMSKHJ\",             \"methods\": [ \"GET\" ]         }     } } ```  #### Reply when parsing is failed:   ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"id\": \"JKKSJNMSKHJ\",         \"status\": \"FAILED\",         \"detail\": \"Unable to parse\",         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/JKKSJNMSKHJ\",             \"methods\": [ \"GET\" ]         }     } } ```  #### Successful Reply with warnings returned:  ``` json {     \"data\": {         \"type\": \"trip-parser-job\",         \"id\": \"JKKSJNMSKHJ\",         \"status\": \"COMPLETED\",         \"result\": {             \"href\": \"https://result-url\",             \"methods\": [ \"GET\" ]         },         \"self\": {             \"href\": \"https://test.api.amadeus.com/v2/travel/trip-parser-jobs/JKKSJNMSKHJ\",             \"methods\": [ \"GET\" ]         }     },     \"warnings\": [         {         \"code\": 367,         \"title\": \"PARTIALLY PROCESSED\"         }     ] } ```  ** warnings codes**          code    | title                                  ------- | -------------------------------------   367    | PARTIALLY PROCESSED  
     * The endpoint is owned by defaultname service owner
     * @param jobId (required)
     */
    @GET("travel/trip-parser-jobs/{jobId}")
    suspend fun getTripParserJob(
        @retrofit2.http.Path("jobId") jobId: String
    ): ApiResponse<TripParserJobOut>
     */
}
